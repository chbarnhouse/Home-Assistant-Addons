import{u as p,g as E,r as m,R as S,a as g,T as v}from"./index-YanfQBYz.js";function Q(e,s,t,r,c){const[n,f]=m.useState(()=>c&&t?t(e).matches:r?r(e).matches:s);return g(()=>{if(!t)return;const o=t(e),a=()=>{f(o.matches)};return a(),o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[e,t]),n}const y={...S},d=y.useSyncExternalStore;function w(e,s,t,r,c){const n=m.useCallback(()=>s,[s]),f=m.useMemo(()=>{if(c&&t)return()=>t(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return n},[n,e,r,c,t]),[o,a]=m.useMemo(()=>{if(t===null)return[n,()=>()=>{}];const u=t(e);return[()=>u.matches,i=>(u.addEventListener("change",i),()=>{u.removeEventListener("change",i)})]},[n,t,e]);return d(a,o,f)}function h(e={}){const{themeId:s}=e;return function(r,c={}){let n=p();n&&s&&(n=n[s]||n);const f=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:a=f?window.matchMedia:null,ssrMatchMedia:l=null,noSsr:u=!1}=E({name:"MuiUseMediaQuery",props:c,theme:n});let i=typeof r=="function"?r(n):r;return i=i.replace(/^@media( ?)/m,""),(d!==void 0?w:Q)(i,o,a,l,u)}}h();const M=h({themeId:v});function x({onDetect:e}){const s=M("(prefers-color-scheme: dark)");return m.useEffect(()=>{e(s)},[s,e]),null}export{x as default};
